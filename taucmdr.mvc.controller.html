<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>taucmdr.mvc.controller module &mdash; TAU Commander Developer Documentation</title>
    
    <link rel="stylesheet" href="_static/haiku.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '0.0.0
',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="shortcut icon" href="_static/favicon.ico"/>
    <link rel="top" title="TAU Commander Developer Documentation" href="index.html" />
    <link rel="up" title="taucmdr.mvc package" href="taucmdr.mvc.html" />
    <link rel="next" title="taucmdr.mvc.model module" href="taucmdr.mvc.model.html" />
    <link rel="prev" title="taucmdr.mvc.tests.test_model module" href="taucmdr.mvc.tests.test_model.html" /> 
  </head>
  <body role="document">
      <div class="header" role="banner"><img class="rightlogo" src="_static/taulogo-large.png" alt="Logo"/><h1 class="heading"><a href="index.html">
          <span>TAU Commander Developer Documentation</span></a></h1>
        <h2 class="heading"><span>taucmdr.mvc.controller module</span></h2>
      </div>
      <div class="topnav" role="navigation" aria-label="top navigation">
      
        <p>
        «&#160;&#160;<a href="taucmdr.mvc.tests.test_model.html">taucmdr.mvc.tests.test_model module</a>
        &#160;&#160;::&#160;&#160;
        <a class="uplink" href="index.html">Contents</a>
        &#160;&#160;::&#160;&#160;
        <a href="taucmdr.mvc.model.html">taucmdr.mvc.model module</a>&#160;&#160;»
        </p>

      </div>
      <div class="content">
        
        
  <div class="section" id="module-taucmdr.mvc.controller">
<span id="taucmdr-mvc-controller-module"></span><h1>taucmdr.mvc.controller module<a class="headerlink" href="#module-taucmdr.mvc.controller" title="Permalink to this headline">¶</a></h1>
<p>TODO: FIXME: Docs</p>
<dl class="class">
<dt id="taucmdr.mvc.controller.Controller">
<em class="property">class </em><code class="descclassname">taucmdr.mvc.controller.</code><code class="descname">Controller</code><span class="sig-paren">(</span><em>model_cls</em>, <em>storage</em>, <em>context=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/taucmdr/mvc/controller.html#Controller"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#taucmdr.mvc.controller.Controller" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/library/functions.html#object" title="(in Python v3.10)"><code class="xref py py-class docutils literal"><span class="pre">object</span></code></a></p>
<p>The &#8220;C&#8221; in <a class="reference external" href="https://en.wikipedia.org/wiki/Model-view-controller">MVC</a>.</p>
<dl class="attribute">
<dt id="taucmdr.mvc.controller.Controller.model">
<code class="descname">model</code><a class="headerlink" href="#taucmdr.mvc.controller.Controller.model" title="Permalink to this definition">¶</a></dt>
<dd><p><em>AbstractModel</em></p>
<p>Data model.</p>
</dd></dl>

<dl class="attribute">
<dt id="taucmdr.mvc.controller.Controller.storage">
<code class="descname">storage</code><a class="headerlink" href="#taucmdr.mvc.controller.Controller.storage" title="Permalink to this definition">¶</a></dt>
<dd><p><em>AbstractDatabase</em></p>
<p>Record storage.</p>
</dd></dl>

<dl class="attribute">
<dt id="taucmdr.mvc.controller.Controller.context">
<code class="descname">context</code><a class="headerlink" href="#taucmdr.mvc.controller.Controller.context" title="Permalink to this definition">¶</a></dt>
<dd><p><em>List(Tuple</em></p>
<p>A field filter, with syntax (key, value).</p>
</dd></dl>

<dl class="attribute">
<dt>
<code class="descname">Filtering according to a context means that only elements with</code></dt>
<dd></dd></dl>

<dl class="attribute">
<dt>
<code class="descname">at least an element matching the rules set in the context will</code></dt>
<dd></dd></dl>

<dl class="attribute">
<dt>
<code class="descname">be considered. Think of it as a whitelist.</code></dt>
<dd></dd></dl>

<dl class="attribute">
<dt>
<code class="descname">A controller will filters results according to</code></dt>
<dd></dd></dl>

<dl class="attribute">
<dt>
<code class="descname">- By default, nothing;</code></dt>
<dd></dd></dl>

<dl class="attribute">
<dt>
<code class="descname">- If a context was given at the object's initialization,</code></dt>
<dd><p>the controller only allows objects matching the context;</p>
</dd></dl>

<dl class="attribute">
<dt>
<code class="descname">- If a context is given during a command, it overrides the internal</code></dt>
<dd><p>context and the results are matched against it.</p>
</dd></dl>

<dl class="method">
<dt id="taucmdr.mvc.controller.Controller._associate">
<code class="descname">_associate</code><span class="sig-paren">(</span><em>record</em>, <em>foreign_model</em>, <em>affected</em>, <em>via</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/taucmdr/mvc/controller.html#Controller._associate"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#taucmdr.mvc.controller.Controller._associate" title="Permalink to this definition">¶</a></dt>
<dd><p>Associates a record with another record.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>record</strong> (<a class="reference internal" href="taucmdr.cf.storage.html#taucmdr.cf.storage.AbstractStorage.Record" title="taucmdr.cf.storage.AbstractStorage.Record"><em>Record</em></a>) &#8211; Record to associate.</li>
<li><strong>foreign_model</strong> (<a class="reference internal" href="taucmdr.mvc.model.html#taucmdr.mvc.model.Model" title="taucmdr.mvc.model.Model"><em>Model</em></a>) &#8211; Foreign record&#8217;s data model.</li>
<li><strong>affected</strong> (<a class="reference internal" href="taucmdr.cli.commands.application.list.html#module-taucmdr.cli.commands.application.list" title="taucmdr.cli.commands.application.list"><em>list</em></a>) &#8211; Identifiers for the records that will be updated to associate with <cite>record</cite>.</li>
<li><strong>via</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) &#8211; The name of the associated foreign attribute.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="taucmdr.mvc.controller.Controller._disassociate">
<code class="descname">_disassociate</code><span class="sig-paren">(</span><em>record</em>, <em>foreign_model</em>, <em>affected</em>, <em>via</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/taucmdr/mvc/controller.html#Controller._disassociate"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#taucmdr.mvc.controller.Controller._disassociate" title="Permalink to this definition">¶</a></dt>
<dd><p>Disassociates a record from another record.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>record</strong> (<a class="reference internal" href="taucmdr.cf.storage.html#taucmdr.cf.storage.AbstractStorage.Record" title="taucmdr.cf.storage.AbstractStorage.Record"><em>Record</em></a>) &#8211; Record to disassociate.</li>
<li><strong>foreign_model</strong> (<a class="reference internal" href="taucmdr.mvc.model.html#taucmdr.mvc.model.Model" title="taucmdr.mvc.model.Model"><em>Model</em></a>) &#8211; Foreign record&#8217;s data model.</li>
<li><strong>affected</strong> (<a class="reference internal" href="taucmdr.cli.commands.application.list.html#module-taucmdr.cli.commands.application.list" title="taucmdr.cli.commands.application.list"><em>list</em></a>) &#8211; Identifiers for the records that will be updated to disassociate from <cite>record</cite>.</li>
<li><strong>via</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) &#8211; The name of the associated foreign attribute.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="taucmdr.mvc.controller.Controller.all">
<code class="descname">all</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/taucmdr/mvc/controller.html#Controller.all"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#taucmdr.mvc.controller.Controller.all" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="taucmdr.mvc.controller.Controller.count">
<code class="descname">count</code><span class="sig-paren">(</span><em>context=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/taucmdr/mvc/controller.html#Controller.count"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#taucmdr.mvc.controller.Controller.count" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the number of records.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">Effectively <code class="docutils literal"><span class="pre">len(self.all())</span></code></td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v3.10)">int</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="taucmdr.mvc.controller.Controller.create">
<code class="descname">create</code><span class="sig-paren">(</span><em>data</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/taucmdr/mvc/controller.html#Controller.create"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#taucmdr.mvc.controller.Controller.create" title="Permalink to this definition">¶</a></dt>
<dd><p>Atomically store a new record and update associations.</p>
<p>Invokes the <cite>on_create</cite> callback <strong>after</strong> the data is recorded.  If this callback raises
an exception then the operation is reverted.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>data</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#dict" title="(in Python v3.10)"><em>dict</em></a>) &#8211; Data to record.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">The newly created data.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference internal" href="taucmdr.mvc.model.html#taucmdr.mvc.model.Model" title="taucmdr.mvc.model.Model">Model</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="taucmdr.mvc.controller.Controller.delete">
<code class="descname">delete</code><span class="sig-paren">(</span><em>keys</em>, <em>context=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/taucmdr/mvc/controller.html#Controller.delete"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#taucmdr.mvc.controller.Controller.delete" title="Permalink to this definition">¶</a></dt>
<dd><p>Delete recorded data and update associations.</p>
<dl class="docutils">
<dt>The behavior depends on the type of <cite>keys</cite>:</dt>
<dd><ul class="first last simple">
<li>Record.ElementIdentifier: delete the record with that element identifier.</li>
<li>dict: delete all records with attributes matching <cite>keys</cite>.</li>
<li>list or tuple: delete all records matching the elements of <cite>keys</cite>.</li>
<li><code class="docutils literal"><span class="pre">bool(keys)</span> <span class="pre">==</span> <span class="pre">False</span></code>: raise ValueError.</li>
</ul>
</dd>
</dl>
<p>Invokes the <cite>on_delete</cite> callback <strong>after</strong> the data is deleted.  If this callback raises
an exception then the operation is reverted.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>keys</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#dict" title="(in Python v3.10)"><em>dict</em></a>) &#8211; Attributes to match.</li>
<li><strong>keys</strong> &#8211; Fields or element identifiers to match.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="taucmdr.mvc.controller.Controller.exists">
<code class="descname">exists</code><span class="sig-paren">(</span><em>keys</em>, <em>context=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/taucmdr/mvc/controller.html#Controller.exists"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#taucmdr.mvc.controller.Controller.exists" title="Permalink to this definition">¶</a></dt>
<dd><p>Check if a record exists.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>keys</strong> &#8211; See <code class="xref any docutils literal"><span class="pre">AbstractStorage.exists</span></code>.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">True if a record matching <cite>keys</cite> exists, False otherwise.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/library/functions.html#bool" title="(in Python v3.10)">bool</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="classmethod">
<dt id="taucmdr.mvc.controller.Controller.export_records">
<em class="property">classmethod </em><code class="descname">export_records</code><span class="sig-paren">(</span><em>keys=None</em>, <em>eids=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/taucmdr/mvc/controller.html#Controller.export_records"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#taucmdr.mvc.controller.Controller.export_records" title="Permalink to this definition">¶</a></dt>
<dd><p>Export data records.</p>
<p>Constructs a dictionary containing records matching <cite>keys</cite> or <cite>eids</cite> and all their
associated records.  Association fields (<cite>model</cite> and <cite>collection</cite>) are <strong>not</strong> updated
and may contain eids of undefined records.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>keys</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#dict" title="(in Python v3.10)"><em>dict</em></a>) &#8211; Attributes to match.</li>
<li><strong>eids</strong> (<a class="reference internal" href="taucmdr.cli.commands.application.list.html#module-taucmdr.cli.commands.application.list" title="taucmdr.cli.commands.application.list"><em>list</em></a>) &#8211; Record identifiers to match.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Dictionary of tables containing records.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/library/stdtypes.html#dict" title="(in Python v3.10)">dict</a></p>
</td>
</tr>
</tbody>
</table>
<p>Example:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="p">{</span>
 <span class="s1">&#39;Brewery&#39;</span><span class="p">:</span> <span class="p">{</span><span class="mi">100</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;address&#39;</span><span class="p">:</span> <span class="s1">&#39;4615 Hollins Ferry Rd, Halethorpe, MD 21227&#39;</span><span class="p">,</span>
                   <span class="s1">&#39;brews&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">10</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">14</span><span class="p">]}},</span>
 <span class="s1">&#39;Beer&#39;</span><span class="p">:</span> <span class="p">{</span><span class="mi">10</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;origin&#39;</span><span class="p">:</span> <span class="mi">100</span><span class="p">,</span> <span class="s1">&#39;color&#39;</span><span class="p">:</span> <span class="s1">&#39;gold&#39;</span><span class="p">,</span> <span class="s1">&#39;ibu&#39;</span><span class="p">:</span> <span class="mi">45</span><span class="p">},</span>
          <span class="mi">12</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;origin&#39;</span><span class="p">:</span> <span class="mi">100</span><span class="p">,</span> <span class="s1">&#39;color&#39;</span><span class="p">:</span> <span class="s1">&#39;dark&#39;</span><span class="p">,</span> <span class="s1">&#39;ibu&#39;</span><span class="p">:</span> <span class="mi">15</span><span class="p">},</span>
          <span class="mi">14</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;origin&#39;</span><span class="p">:</span> <span class="mi">100</span><span class="p">,</span> <span class="s1">&#39;color&#39;</span><span class="p">:</span> <span class="s1">&#39;pale&#39;</span><span class="p">,</span> <span class="s1">&#39;ibu&#39;</span><span class="p">:</span> <span class="mi">30</span><span class="p">}}</span>
<span class="p">}</span>

<span class="n">Beer</span><span class="o">.</span><span class="n">export_records</span><span class="p">(</span><span class="n">eids</span><span class="o">=</span><span class="p">[</span><span class="mi">10</span><span class="p">])</span>

<span class="p">{</span>
 <span class="s1">&#39;Brewery&#39;</span><span class="p">:</span> <span class="p">{</span><span class="mi">100</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;address&#39;</span><span class="p">:</span> <span class="s1">&#39;4615 Hollins Ferry Rd, Halethorpe, MD 21227&#39;</span><span class="p">,</span>
                   <span class="s1">&#39;brews&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">10</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">14</span><span class="p">]}},</span>
 <span class="s1">&#39;Beer&#39;</span><span class="p">:</span> <span class="p">{</span><span class="mi">10</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;origin&#39;</span><span class="p">:</span> <span class="mi">100</span><span class="p">,</span> <span class="s1">&#39;color&#39;</span><span class="p">:</span> <span class="s1">&#39;gold&#39;</span><span class="p">,</span> <span class="s1">&#39;ibu&#39;</span><span class="p">:</span> <span class="mi">45</span><span class="p">}}</span>
<span class="p">}</span>
</pre></div>
</div>
</dd></dl>

<dl class="staticmethod">
<dt id="taucmdr.mvc.controller.Controller.import_records">
<em class="property">static </em><code class="descname">import_records</code><span class="sig-paren">(</span><em>data</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/taucmdr/mvc/controller.html#Controller.import_records"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#taucmdr.mvc.controller.Controller.import_records" title="Permalink to this definition">¶</a></dt>
<dd><p>Import data records.</p>
<p>TODO: Docs</p>
</dd></dl>

<dl class="method">
<dt id="taucmdr.mvc.controller.Controller.match">
<code class="descname">match</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/taucmdr/mvc/controller.html#Controller.match"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#taucmdr.mvc.controller.Controller.match" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="taucmdr.mvc.controller.Controller.messages">
<code class="descname">messages</code><em class="property"> = {}</em><a class="headerlink" href="#taucmdr.mvc.controller.Controller.messages" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="taucmdr.mvc.controller.Controller.one">
<code class="descname">one</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/taucmdr/mvc/controller.html#Controller.one"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#taucmdr.mvc.controller.Controller.one" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="classmethod">
<dt id="taucmdr.mvc.controller.Controller.pop_topic">
<em class="property">classmethod </em><code class="descname">pop_topic</code><span class="sig-paren">(</span><em>topic</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/taucmdr/mvc/controller.html#Controller.pop_topic"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#taucmdr.mvc.controller.Controller.pop_topic" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="taucmdr.mvc.controller.Controller.populate">
<code class="descname">populate</code><span class="sig-paren">(</span><em>model</em>, <em>attribute=None</em>, <em>defaults=False</em>, <em>context=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/taucmdr/mvc/controller.html#Controller.populate"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#taucmdr.mvc.controller.Controller.populate" title="Permalink to this definition">¶</a></dt>
<dd><p>Merges associated data into the model record.</p>
<p class="rubric">Example</p>
<p>Suppose we have the following Person records:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="mi">1</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;Katie&#39;</span><span class="p">,</span> <span class="s1">&#39;friends&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]}</span>
<span class="mi">2</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;Ryan&#39;</span><span class="p">,</span> <span class="s1">&#39;friends&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">]}</span>
<span class="mi">3</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;John&#39;</span><span class="p">,</span> <span class="s1">&#39;friends&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">]}</span>
</pre></div>
</div>
<p>Populating <code class="docutils literal"><span class="pre">Person({'name':</span> <span class="pre">'Katie',</span> <span class="pre">'friends':</span> <span class="pre">[2,</span> <span class="pre">3]})</span></code> produces this dictionary:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span>{&#39;name&#39;: &#39;Katie&#39;,
 &#39;friends&#39;: [Person({&#39;name&#39;: &#39;Ryan&#39;, &#39;friends&#39;: [1]}),
             Person({&#39;name&#39;: &#39;John&#39;, &#39;friends&#39;: [1]}]})
</pre></div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>attribute</strong> (<em>Optional[str]</em>) &#8211; If given, return only the populated attribute.</li>
<li><strong>defaults</strong> (<em>Optional[bool]</em>) &#8211; If given, set undefined attributes to their default values.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">If attribute is None, a dictionary of controlled data merged with associated records.
If attribute is not None, the value of the populated attribute.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/library/exceptions.html#KeyError" title="(in Python v3.10)"><code class="xref py py-exc docutils literal"><span class="pre">KeyError</span></code></a> &#8211;
<cite>attribute</cite> is undefined in the record.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="classmethod">
<dt id="taucmdr.mvc.controller.Controller.push_to_topic">
<em class="property">classmethod </em><code class="descname">push_to_topic</code><span class="sig-paren">(</span><em>topic</em>, <em>message</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/taucmdr/mvc/controller.html#Controller.push_to_topic"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#taucmdr.mvc.controller.Controller.push_to_topic" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="taucmdr.mvc.controller.Controller.search">
<code class="descname">search</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/taucmdr/mvc/controller.html#Controller.search"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#taucmdr.mvc.controller.Controller.search" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="taucmdr.mvc.controller.Controller.unset">
<code class="descname">unset</code><span class="sig-paren">(</span><em>fields</em>, <em>keys</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/taucmdr/mvc/controller.html#Controller.unset"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#taucmdr.mvc.controller.Controller.unset" title="Permalink to this definition">¶</a></dt>
<dd><p>Unset recorded data fields and update associations.</p>
<dl class="docutils">
<dt>The behavior depends on the type of <cite>keys</cite>:</dt>
<dd><ul class="first last simple">
<li>Record.ElementIdentifier: update the record with that element identifier.</li>
<li>dict: update all records with attributes matching <cite>keys</cite>.</li>
<li>list or tuple: apply update to all records matching the elements of <cite>keys</cite>.</li>
<li><code class="docutils literal"><span class="pre">bool(keys)</span> <span class="pre">==</span> <span class="pre">False</span></code>: raise ValueError.</li>
</ul>
</dd>
</dl>
<p>Invokes the <cite>on_update</cite> callback <strong>after</strong> the data is modified.  If this callback raises
an exception then the operation is reverted.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>fields</strong> (<a class="reference internal" href="taucmdr.cli.commands.application.list.html#module-taucmdr.cli.commands.application.list" title="taucmdr.cli.commands.application.list"><em>list</em></a>) &#8211; Names of fields to unset.</li>
<li><strong>keys</strong> &#8211; Fields or element identifiers to match.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="taucmdr.mvc.controller.Controller.update">
<code class="descname">update</code><span class="sig-paren">(</span><em>data</em>, <em>keys</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/taucmdr/mvc/controller.html#Controller.update"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#taucmdr.mvc.controller.Controller.update" title="Permalink to this definition">¶</a></dt>
<dd><p>Change recorded data and update associations.</p>
<dl class="docutils">
<dt>The behavior depends on the type of <cite>keys</cite>:</dt>
<dd><ul class="first last simple">
<li>Record.ElementIdentifier: update the record with that element identifier.</li>
<li>dict: update all records with attributes matching <cite>keys</cite>.</li>
<li>list or tuple: apply update to all records matching the elements of <cite>keys</cite>.</li>
<li><code class="docutils literal"><span class="pre">bool(keys)</span> <span class="pre">==</span> <span class="pre">False</span></code>: raise ValueError.</li>
</ul>
</dd>
</dl>
<p>Invokes the <cite>on_update</cite> callback <strong>after</strong> the data is modified.  If this callback raises
an exception then the operation is reverted.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>data</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#dict" title="(in Python v3.10)"><em>dict</em></a>) &#8211; New data for existing records.</li>
<li><strong>keys</strong> &#8211; Fields or element identifiers to match.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="taucmdr.mvc.controller.contextualize">
<code class="descclassname">taucmdr.mvc.controller.</code><code class="descname">contextualize</code><span class="sig-paren">(</span><em>function</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/taucmdr/mvc/controller.html#contextualize"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#taucmdr.mvc.controller.contextualize" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="taucmdr.mvc.controller.valid">
<code class="descclassname">taucmdr.mvc.controller.</code><code class="descname">valid</code><span class="sig-paren">(</span><em>context</em>, <em>record</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/taucmdr/mvc/controller.html#valid"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#taucmdr.mvc.controller.valid" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>


      </div>
      <div class="bottomnav" role="navigation" aria-label="bottom navigation">
      
        <p>
        «&#160;&#160;<a href="taucmdr.mvc.tests.test_model.html">taucmdr.mvc.tests.test_model module</a>
        &#160;&#160;::&#160;&#160;
        <a class="uplink" href="index.html">Contents</a>
        &#160;&#160;::&#160;&#160;
        <a href="taucmdr.mvc.model.html">taucmdr.mvc.model module</a>&#160;&#160;»
        </p>

      </div>

    <div class="footer" role="contentinfo">
        &copy; Copyright 2015 ParaTools, Inc..
      Last updated on Jul 06, 2022 at 00:01:36 UTC.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.3.6.
    </div>
  </body>
</html>