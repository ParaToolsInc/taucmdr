<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>tau.mvc package &mdash; TAU Commander Developer Documentation</title>
    
    <link rel="stylesheet" href="_static/haiku.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '0.0.1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="shortcut icon" href="_static/favicon.ico"/>
    <link rel="top" title="TAU Commander Developer Documentation" href="index.html" />
    <link rel="up" title="tau package" href="tau.html" />
    <link rel="next" title="tau.mvc.tests package" href="tau.mvc.tests.html" />
    <link rel="prev" title="tau.model.tests package" href="tau.model.tests.html" /> 
  </head>
  <body role="document">
      <div class="header" role="banner"><img class="rightlogo" src="_static/taulogo-large.png" alt="Logo"/><h1 class="heading"><a href="index.html">
          <span>TAU Commander Developer Documentation</span></a></h1>
        <h2 class="heading"><span>tau.mvc package</span></h2>
      </div>
      <div class="topnav" role="navigation" aria-label="top navigation">
      
        <p>
        «&#160;&#160;<a href="tau.model.tests.html">tau.model.tests package</a>
        &#160;&#160;::&#160;&#160;
        <a class="uplink" href="index.html">Contents</a>
        &#160;&#160;::&#160;&#160;
        <a href="tau.mvc.tests.html">tau.mvc.tests package</a>&#160;&#160;»
        </p>

      </div>
      <div class="content">
        
        
  <div class="section" id="module-tau.mvc">
<span id="tau-mvc-package"></span><h1>tau.mvc package<a class="headerlink" href="#module-tau.mvc" title="Permalink to this headline">¶</a></h1>
<p>TODO: FIXME: Docs</p>
<p>TAU Commander core software architecture.</p>
<p>TAU Commander follows the <a class="reference external" href="https://en.wikipedia.org/wiki/Model-view-controller">Model-View-Controller (MVC)</a> architectural pattern.
Packages in <a class="reference internal" href="tau.model.html#module-tau.model" title="tau.model"><code class="xref py py-mod docutils literal"><span class="pre">tau.model</span></code></a> define models and controllers.  The <cite>model</cite> module
declares the model attributes as a dictionary named <cite>ATTRIBUTES</cite> in the form:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span>&lt;attribute&gt;: {
    property: value,
    [[property: value], ...]
}
</pre></div>
</div>
<p>Attribute properties can be anything you wish, including these special properties:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">type</span></code> (str): The attribute is of the specified type.</li>
<li><code class="docutils literal"><span class="pre">required</span></code> (bool): The attribute must be specified in the data record.</li>
<li><code class="docutils literal"><span class="pre">model</span></code> (str): The attribute associates this model with another data model.</li>
<li><code class="docutils literal"><span class="pre">collection</span></code> (str): The attribute associates this model with another data model.</li>
<li><code class="docutils literal"><span class="pre">via</span></code> (str): The attribute associates with another model &#8220;via&#8221; the specified attribute.</li>
</ul>
<p>The <cite>controller</cite> module declares the controller as a subclass of <a class="reference internal" href="#tau.mvc.controller.Controller" title="tau.mvc.controller.Controller"><code class="xref any py py-class docutils literal"><span class="pre">Controller</span></code></a>.  Controller
class objects are not bound to any particular data record and so can be used to create, update,
and delete records.  Controller class instances <strong>are</strong> bound to a single data record.</p>
<p>Models may have <strong>associations</strong> and <strong>references</strong>.  An association creates a relationship between
an attribute of this model and an attribute of another (a.k.a foreign) model.  If the associated
attribute changes then the foreign model will update its associated attribute.  A reference indicates
that this model is being referened by one or more attributes of a foreign model.  If a record of the
referenced model changes then the referencing model, i.e. the foreign model, will update all referencing
attributes.</p>
<p>Associations, references, and attributes are constructed when <a class="reference internal" href="tau.model.html#module-tau.model" title="tau.model"><code class="xref py py-mod docutils literal"><span class="pre">tau.model</span></code></a>  is imported.</p>
<p class="rubric">Examples</p>
<p><em>One-sided relationship</em></p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Pet</span><span class="p">(</span><span class="n">Controller</span><span class="p">):</span>
    <span class="n">attributes</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="s1">&#39;string&#39;</span><span class="p">},</span> <span class="s1">&#39;hungry&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="s1">&#39;bool&#39;</span><span class="p">}}</span>

<span class="k">class</span> <span class="nc">Person</span><span class="p">(</span><span class="n">Controller</span><span class="p">):</span>
    <span class="n">attributes</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="s1">&#39;string&#39;</span><span class="p">},</span> <span class="s1">&#39;pet&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;model&#39;</span><span class="p">:</span> <span class="s1">&#39;Pet&#39;</span><span class="p">}}</span>
</pre></div>
</div>
<p>We&#8217;ve related a Person to a Pet but not a Pet to a Person.  That is, we can query a Person
to get information about their Pet, but we can&#8217;t query a Pet to get information about their Person.
If a Pet record changes then the Person record that referenced the Pet record is notified of the
change. If a Person record changes then nothing happens to Pet.  The Pet and Person classes codify
this relationship as:</p>
<blockquote>
<div><ul class="simple">
<li>Pet.references = set( (Person, &#8216;pet&#8217;) )</li>
<li>Pet.associations = {}</li>
<li>Person.references = set()</li>
<li>Person.associations = {}</li>
</ul>
</div></blockquote>
<p>Some example data for this model:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="p">{</span>
 <span class="s1">&#39;Pet&#39;</span><span class="p">:</span> <span class="p">{</span><span class="mi">1</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;Fluffy&#39;</span><span class="p">,</span> <span class="s1">&#39;hungry&#39;</span><span class="p">:</span> <span class="bp">True</span><span class="p">}},</span>
 <span class="s1">&#39;Person&#39;</span><span class="p">:</span> <span class="p">{</span><span class="mi">0</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;Bob&#39;</span><span class="p">,</span> <span class="s1">&#39;pet&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">}}</span>
<span class="p">}</span>
</pre></div>
</div>
<p><em>One-to-one relationship</em></p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Husband</span><span class="p">(</span><span class="n">Controller</span><span class="p">):</span>
    <span class="n">attributes</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="s1">&#39;string&#39;</span><span class="p">},</span> <span class="s1">&#39;wife&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;model&#39;</span><span class="p">:</span> <span class="s1">&#39;Wife&#39;</span><span class="p">}}</span>

<span class="k">class</span> <span class="nc">Wife</span><span class="p">(</span><span class="n">Controller</span><span class="p">):</span>
    <span class="n">attributes</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="s1">&#39;string&#39;</span><span class="p">},</span> <span class="s1">&#39;husband&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;model&#39;</span><span class="p">:</span> <span class="s1">&#39;Husband&#39;</span><span class="p">}}</span>
</pre></div>
</div>
<p>We&#8217;ve related a Husband to a Wife.  The Husband may have only one Wife and the Wife may have
only one Husband.  We can query a Husband to get information about their Wife and we can query a
Wife to get information about their Husband.  If a Husband/Wife record changes then the Wife/Husband
record that referenced the Husband/Wife record is notified of the change.  The Husband and Wife classes
codify this relationship as:</p>
<blockquote>
<div><ul class="simple">
<li>Husband.references = set( (Wife, &#8216;husband&#8217;) )</li>
<li>Husband.associations = {}</li>
<li>Wife.references = set( (Husband, &#8216;wife&#8217;) )</li>
<li>Wife.associations = {}</li>
</ul>
</div></blockquote>
<p>Example data:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="p">{</span>
 <span class="s1">&#39;Husband&#39;</span><span class="p">:</span> <span class="p">{</span><span class="mi">2</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;Filbert&#39;</span><span class="p">,</span> <span class="s1">&#39;wife&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">}},</span>
 <span class="s1">&#39;Wife&#39;</span><span class="p">:</span> <span class="p">{</span><span class="mi">1</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;Matilda&#39;</span><span class="p">,</span> <span class="s1">&#39;husband&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">}}</span>
<span class="p">}</span>
</pre></div>
</div>
<p><em>One-to-many relationship</em></p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Brewery</span><span class="p">(</span><span class="n">Controller</span><span class="p">):</span>
    <span class="n">attributes</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;address&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="s1">&#39;string&#39;</span><span class="p">},</span>
                  <span class="s1">&#39;brews&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;collection&#39;</span><span class="p">:</span> <span class="s1">&#39;Beer&#39;</span><span class="p">,</span>
                            <span class="s1">&#39;via&#39;</span><span class="p">:</span> <span class="s1">&#39;origin&#39;</span><span class="p">}}</span>

<span class="k">class</span> <span class="nc">Beer</span><span class="p">(</span><span class="n">Controller</span><span class="p">):</span>
    <span class="n">attributes</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;origin&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;model&#39;</span><span class="p">:</span> <span class="s1">&#39;Brewery&#39;</span><span class="p">},</span>
                  <span class="s1">&#39;color&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="s1">&#39;string&#39;</span><span class="p">},</span>
                  <span class="s1">&#39;ibu&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="s1">&#39;int&#39;</span><span class="p">}}</span>
</pre></div>
</div>
<p>We&#8217;ve related one Brewery to many Beers.  A Beer has only one Brewery but a Brewery has zero or
more Beers.  The <cite>brews</cite> attribute has a <cite>via</cite> property along with a <cite>collection</cite> property to specify
which attribute of Beer relates Beer to Brewery, i.e. you may want a model to have multiple
one-to-many relationship with another model.  The Brewery and Beer classes codify this relationship as:</p>
<blockquote>
<div><ul class="simple">
<li>Brewery.references = set()</li>
<li>Brewery.associations = {&#8216;brews&#8217;: (Beer, &#8216;origin&#8217;)}</li>
<li>Beer.references = set()</li>
<li>Beer.associations = {&#8216;origin&#8217;: (Brewery, &#8216;brews&#8217;)}</li>
</ul>
</div></blockquote>
<p>Example data:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="p">{</span>
 <span class="s1">&#39;Brewery&#39;</span><span class="p">:</span> <span class="p">{</span><span class="mi">100</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;address&#39;</span><span class="p">:</span> <span class="s1">&#39;4615 Hollins Ferry Rd, Halethorpe, MD 21227&#39;</span><span class="p">,</span>
                   <span class="s1">&#39;brews&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">10</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">14</span><span class="p">]}},</span>
 <span class="s1">&#39;Beer&#39;</span><span class="p">:</span> <span class="p">{</span><span class="mi">10</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;origin&#39;</span><span class="p">:</span> <span class="mi">100</span><span class="p">,</span> <span class="s1">&#39;color&#39;</span><span class="p">:</span> <span class="s1">&#39;gold&#39;</span><span class="p">,</span> <span class="s1">&#39;ibu&#39;</span><span class="p">:</span> <span class="mi">45</span><span class="p">},</span>
          <span class="mi">12</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;origin&#39;</span><span class="p">:</span> <span class="mi">100</span><span class="p">,</span> <span class="s1">&#39;color&#39;</span><span class="p">:</span> <span class="s1">&#39;dark&#39;</span><span class="p">,</span> <span class="s1">&#39;ibu&#39;</span><span class="p">:</span> <span class="mi">15</span><span class="p">},</span>
          <span class="mi">14</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;origin&#39;</span><span class="p">:</span> <span class="mi">100</span><span class="p">,</span> <span class="s1">&#39;color&#39;</span><span class="p">:</span> <span class="s1">&#39;pale&#39;</span><span class="p">,</span> <span class="s1">&#39;ibu&#39;</span><span class="p">:</span> <span class="mi">30</span><span class="p">}}</span>
<span class="p">}</span>
</pre></div>
</div>
<p><em>Many-to-many relationship</em></p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Actor</span><span class="p">(</span><span class="n">Controller</span><span class="p">):</span>
    <span class="n">attributes</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;home_town&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="s1">&#39;string&#39;</span><span class="p">},</span>
                  <span class="s1">&#39;appears_in&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;collection&#39;</span><span class="p">:</span> <span class="s1">&#39;Movie&#39;</span><span class="p">,</span>
                                 <span class="s1">&#39;via&#39;</span><span class="p">:</span> <span class="s1">&#39;cast&#39;</span><span class="p">}}</span>

<span class="k">class</span> <span class="nc">Movie</span><span class="p">(</span><span class="n">Controller</span><span class="p">):</span>
    <span class="n">attributes</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;title&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="s1">&#39;string&#39;</span><span class="p">},</span>
                  <span class="s1">&#39;cast&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;collection&#39;</span><span class="p">:</span> <span class="s1">&#39;Actor&#39;</span><span class="p">,</span>
                           <span class="s1">&#39;via&#39;</span><span class="p">:</span> <span class="s1">&#39;appears_in&#39;</span><span class="p">}}</span>
</pre></div>
</div>
<p>An Actor may appear in many Movies and a Movie may have many Actors.  Changing the <cite>cast</cite> of a Movie
notifies Actor and changing the movies an Actor <cite>apppears_in</cite> notifies Movie.  This relationship is
codified as:</p>
<blockquote>
<div><ul class="simple">
<li>Actor.references = set()</li>
<li>Actor.associations = {&#8216;appears_in&#8217;: (Movies, &#8216;cast&#8217;)}</li>
<li>Movie.references = set()</li>
<li>Movie.associations = {&#8216;cast&#8217;: (Actor, &#8216;appears_in&#8217;)}</li>
</ul>
</div></blockquote>
<div class="section" id="subpackages">
<h2>Subpackages<a class="headerlink" href="#subpackages" title="Permalink to this headline">¶</a></h2>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="tau.mvc.tests.html">tau.mvc.tests package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="tau.mvc.tests.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="tau.mvc.tests.html#module-tau.mvc.tests.test_controller">tau.mvc.tests.test_controller module</a></li>
<li class="toctree-l2"><a class="reference internal" href="tau.mvc.tests.html#module-tau.mvc.tests.test_model">tau.mvc.tests.test_model module</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div class="section" id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="module-tau.mvc.controller">
<span id="tau-mvc-controller-module"></span><h2>tau.mvc.controller module<a class="headerlink" href="#module-tau.mvc.controller" title="Permalink to this headline">¶</a></h2>
<p>TODO: FIXME: Docs</p>
<dl class="class">
<dt id="tau.mvc.controller.Controller">
<em class="property">class </em><code class="descclassname">tau.mvc.controller.</code><code class="descname">Controller</code><span class="sig-paren">(</span><em>model_cls</em>, <em>storage</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tau/mvc/controller.html#Controller"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tau.mvc.controller.Controller" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/library/functions.html#object" title="(in Python v2.7)"><code class="xref py py-class docutils literal"><span class="pre">object</span></code></a></p>
<p>The &#8220;C&#8221; in <a class="reference external" href="https://en.wikipedia.org/wiki/Model-view-controller">MVC</a>.</p>
<dl class="attribute">
<dt id="tau.mvc.controller.Controller.model">
<code class="descname">model</code><a class="headerlink" href="#tau.mvc.controller.Controller.model" title="Permalink to this definition">¶</a></dt>
<dd><p><em>AbstractModel</em></p>
<p>Data model.</p>
</dd></dl>

<dl class="attribute">
<dt id="tau.mvc.controller.Controller.storage">
<code class="descname">storage</code><a class="headerlink" href="#tau.mvc.controller.Controller.storage" title="Permalink to this definition">¶</a></dt>
<dd><p><em>AbstractDatabase</em></p>
<p>Record storage.</p>
</dd></dl>

<dl class="method">
<dt id="tau.mvc.controller.Controller._associate">
<code class="descname">_associate</code><span class="sig-paren">(</span><em>record</em>, <em>foreign_model</em>, <em>affected</em>, <em>via</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tau/mvc/controller.html#Controller._associate"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tau.mvc.controller.Controller._associate" title="Permalink to this definition">¶</a></dt>
<dd><p>Associates a record with another record.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>record</strong> (<a class="reference internal" href="tau.storage.html#tau.storage.AbstractStorage.Record" title="tau.storage.AbstractStorage.Record"><em>Record</em></a>) &#8211; Record to associate.</li>
<li><strong>foreign_model</strong> (<a class="reference internal" href="#tau.mvc.model.Model" title="tau.mvc.model.Model"><em>Model</em></a>) &#8211; Foreign record&#8217;s data model.</li>
<li><strong>affected</strong> (<a class="reference internal" href="tau.cli.commands.target.html#module-tau.cli.commands.target.list" title="tau.cli.commands.target.list"><em>list</em></a>) &#8211; Identifiers for the records that will be updated to associate with <cite>record</cite>.</li>
<li><strong>via</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a>) &#8211; The name of the associated foreign attribute.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="tau.mvc.controller.Controller._disassociate">
<code class="descname">_disassociate</code><span class="sig-paren">(</span><em>record</em>, <em>foreign_model</em>, <em>affected</em>, <em>via</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tau/mvc/controller.html#Controller._disassociate"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tau.mvc.controller.Controller._disassociate" title="Permalink to this definition">¶</a></dt>
<dd><p>Disassociates a record from another record.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>record</strong> (<a class="reference internal" href="tau.storage.html#tau.storage.AbstractStorage.Record" title="tau.storage.AbstractStorage.Record"><em>Record</em></a>) &#8211; Record to disassociate.</li>
<li><strong>foreign_model</strong> (<a class="reference internal" href="#tau.mvc.model.Model" title="tau.mvc.model.Model"><em>Model</em></a>) &#8211; Foreign record&#8217;s data model.</li>
<li><strong>affected</strong> (<a class="reference internal" href="tau.cli.commands.target.html#module-tau.cli.commands.target.list" title="tau.cli.commands.target.list"><em>list</em></a>) &#8211; Identifiers for the records that will be updated to disassociate from <cite>record</cite>.</li>
<li><strong>via</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a>) &#8211; The name of the associated foreign attribute.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="tau.mvc.controller.Controller.all">
<code class="descname">all</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/tau/mvc/controller.html#Controller.all"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tau.mvc.controller.Controller.all" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="tau.mvc.controller.Controller.count">
<code class="descname">count</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/tau/mvc/controller.html#Controller.count"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tau.mvc.controller.Controller.count" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="tau.mvc.controller.Controller.create">
<code class="descname">create</code><span class="sig-paren">(</span><em>data</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tau/mvc/controller.html#Controller.create"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tau.mvc.controller.Controller.create" title="Permalink to this definition">¶</a></dt>
<dd><p>Store a new record and update associations.</p>
<p>Invokes the <cite>on_create</cite> callback <strong>after</strong> the data is recorded.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>data</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#dict" title="(in Python v2.7)"><em>dict</em></a>) &#8211; Data to record.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">The newly created data.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference internal" href="#tau.mvc.model.Model" title="tau.mvc.model.Model">Model</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="tau.mvc.controller.Controller.delete">
<code class="descname">delete</code><span class="sig-paren">(</span><em>keys</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tau/mvc/controller.html#Controller.delete"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tau.mvc.controller.Controller.delete" title="Permalink to this definition">¶</a></dt>
<dd><p>Delete recorded data and update associations.</p>
<dl class="docutils">
<dt>The behavior depends on the type of <cite>keys</cite>:</dt>
<dd><ul class="first last simple">
<li>Record.ElementIdentifier: delete the record with that element identifier.</li>
<li>dict: delete all records with attributes matching <cite>keys</cite>.</li>
<li>list or tuple: delete all records matching the elements of <cite>keys</cite>.</li>
<li><code class="docutils literal"><span class="pre">bool(keys)</span> <span class="pre">==</span> <span class="pre">False</span></code>: raise ValueError.</li>
</ul>
</dd>
</dl>
<p>Invokes the <cite>on_delete</cite> callback for each record <strong>before</strong> the record is deleted.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>keys</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#dict" title="(in Python v2.7)"><em>dict</em></a>) &#8211; Attributes to match.</li>
<li><strong>keys</strong> &#8211; Fields or element identifiers to match.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="tau.mvc.controller.Controller.exists">
<code class="descname">exists</code><span class="sig-paren">(</span><em>keys</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tau/mvc/controller.html#Controller.exists"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tau.mvc.controller.Controller.exists" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="classmethod">
<dt id="tau.mvc.controller.Controller.export_records">
<em class="property">classmethod </em><code class="descname">export_records</code><span class="sig-paren">(</span><em>keys=None</em>, <em>eids=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tau/mvc/controller.html#Controller.export_records"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tau.mvc.controller.Controller.export_records" title="Permalink to this definition">¶</a></dt>
<dd><p>Export data records.</p>
<p>Constructs a dictionary containing records matching <cite>keys</cite> or <cite>eids</cite> and all their
associated records.  Association fields (<cite>model</cite> and <cite>collection</cite>) are <strong>not</strong> updated
and may contain eids of undefined records.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>keys</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#dict" title="(in Python v2.7)"><em>dict</em></a>) &#8211; Attributes to match.</li>
<li><strong>eids</strong> (<a class="reference internal" href="tau.cli.commands.target.html#module-tau.cli.commands.target.list" title="tau.cli.commands.target.list"><em>list</em></a>) &#8211; Record identifiers to match.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Dictionary of tables containing records.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/library/stdtypes.html#dict" title="(in Python v2.7)">dict</a></p>
</td>
</tr>
</tbody>
</table>
<p>Example:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="p">{</span>
 <span class="s1">&#39;Brewery&#39;</span><span class="p">:</span> <span class="p">{</span><span class="mi">100</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;address&#39;</span><span class="p">:</span> <span class="s1">&#39;4615 Hollins Ferry Rd, Halethorpe, MD 21227&#39;</span><span class="p">,</span>
                   <span class="s1">&#39;brews&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">10</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">14</span><span class="p">]}},</span>
 <span class="s1">&#39;Beer&#39;</span><span class="p">:</span> <span class="p">{</span><span class="mi">10</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;origin&#39;</span><span class="p">:</span> <span class="mi">100</span><span class="p">,</span> <span class="s1">&#39;color&#39;</span><span class="p">:</span> <span class="s1">&#39;gold&#39;</span><span class="p">,</span> <span class="s1">&#39;ibu&#39;</span><span class="p">:</span> <span class="mi">45</span><span class="p">},</span>
          <span class="mi">12</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;origin&#39;</span><span class="p">:</span> <span class="mi">100</span><span class="p">,</span> <span class="s1">&#39;color&#39;</span><span class="p">:</span> <span class="s1">&#39;dark&#39;</span><span class="p">,</span> <span class="s1">&#39;ibu&#39;</span><span class="p">:</span> <span class="mi">15</span><span class="p">},</span>
          <span class="mi">14</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;origin&#39;</span><span class="p">:</span> <span class="mi">100</span><span class="p">,</span> <span class="s1">&#39;color&#39;</span><span class="p">:</span> <span class="s1">&#39;pale&#39;</span><span class="p">,</span> <span class="s1">&#39;ibu&#39;</span><span class="p">:</span> <span class="mi">30</span><span class="p">}}</span>
<span class="p">}</span>

<span class="n">Beer</span><span class="o">.</span><span class="n">export_records</span><span class="p">(</span><span class="n">eids</span><span class="o">=</span><span class="p">[</span><span class="mi">10</span><span class="p">])</span>

<span class="p">{</span>
 <span class="s1">&#39;Brewery&#39;</span><span class="p">:</span> <span class="p">{</span><span class="mi">100</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;address&#39;</span><span class="p">:</span> <span class="s1">&#39;4615 Hollins Ferry Rd, Halethorpe, MD 21227&#39;</span><span class="p">,</span>
                   <span class="s1">&#39;brews&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">10</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">14</span><span class="p">]}},</span>
 <span class="s1">&#39;Beer&#39;</span><span class="p">:</span> <span class="p">{</span><span class="mi">10</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;origin&#39;</span><span class="p">:</span> <span class="mi">100</span><span class="p">,</span> <span class="s1">&#39;color&#39;</span><span class="p">:</span> <span class="s1">&#39;gold&#39;</span><span class="p">,</span> <span class="s1">&#39;ibu&#39;</span><span class="p">:</span> <span class="mi">45</span><span class="p">}}</span>
<span class="p">}</span>
</pre></div>
</div>
</dd></dl>

<dl class="staticmethod">
<dt id="tau.mvc.controller.Controller.import_records">
<em class="property">static </em><code class="descname">import_records</code><span class="sig-paren">(</span><em>data</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tau/mvc/controller.html#Controller.import_records"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tau.mvc.controller.Controller.import_records" title="Permalink to this definition">¶</a></dt>
<dd><p>Import data records.</p>
<p>TODO: Docs</p>
</dd></dl>

<dl class="method">
<dt id="tau.mvc.controller.Controller.match">
<code class="descname">match</code><span class="sig-paren">(</span><em>field</em>, <em>regex=None</em>, <em>test=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tau/mvc/controller.html#Controller.match"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tau.mvc.controller.Controller.match" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="tau.mvc.controller.Controller.one">
<code class="descname">one</code><span class="sig-paren">(</span><em>key</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tau/mvc/controller.html#Controller.one"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tau.mvc.controller.Controller.one" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="tau.mvc.controller.Controller.populate">
<code class="descname">populate</code><span class="sig-paren">(</span><em>model</em>, <em>attribute=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tau/mvc/controller.html#Controller.populate"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tau.mvc.controller.Controller.populate" title="Permalink to this definition">¶</a></dt>
<dd><p>Merges associated data into the model record.</p>
<p class="rubric">Example</p>
<p>Suppose we have the following Person records:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span>1: {&#39;name&#39;: &#39;Katie&#39;, &#39;friends&#39;: [2, 3]}
2: {&#39;name&#39;: &#39;Ryan&#39;, &#39;friends&#39;: [1]}
3: {&#39;name&#39;: &#39;John&#39;, &#39;friends&#39;: [1]}
</pre></div>
</div>
<p>Populating <code class="docutils literal"><span class="pre">Person({'name':</span> <span class="pre">'Katie',</span> <span class="pre">'friends':</span> <span class="pre">[2,</span> <span class="pre">3]})</span></code> produces this dictionary:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span>{&#39;name&#39;: &#39;Katie&#39;,
 &#39;friends&#39;: [Person({&#39;name&#39;: &#39;Ryan&#39;, &#39;friends&#39;: [1]}),
             Person({&#39;name&#39;: &#39;John&#39;, &#39;friends&#39;: [1]}]})
</pre></div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>attribute</strong> (<em>Optional[str]</em>) &#8211; If given, return only the populated attribute.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">If attribute is None, a dictionary of controlled data merged with associated records.
If attribute is not None, the value of the populated attribute.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body"><code class="xref py py-exc docutils literal"><span class="pre">KeyError</span></code> &#8211;
<cite>attribute</cite> is undefined in the record.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="tau.mvc.controller.Controller.search">
<code class="descname">search</code><span class="sig-paren">(</span><em>keys=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tau/mvc/controller.html#Controller.search"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tau.mvc.controller.Controller.search" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="tau.mvc.controller.Controller.unset">
<code class="descname">unset</code><span class="sig-paren">(</span><em>fields</em>, <em>keys</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tau/mvc/controller.html#Controller.unset"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tau.mvc.controller.Controller.unset" title="Permalink to this definition">¶</a></dt>
<dd><p>Unset recorded data fields and update associations.</p>
<dl class="docutils">
<dt>The behavior depends on the type of <cite>keys</cite>:</dt>
<dd><ul class="first last simple">
<li>Record.ElementIdentifier: update the record with that element identifier.</li>
<li>dict: update all records with attributes matching <cite>keys</cite>.</li>
<li>list or tuple: apply update to all records matching the elements of <cite>keys</cite>.</li>
<li><code class="docutils literal"><span class="pre">bool(keys)</span> <span class="pre">==</span> <span class="pre">False</span></code>: raise ValueError.</li>
</ul>
</dd>
</dl>
<p>Invokes the <cite>on_update</cite> callback for each record <strong>after</strong> the records are updated.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>fields</strong> (<a class="reference internal" href="tau.cli.commands.target.html#module-tau.cli.commands.target.list" title="tau.cli.commands.target.list"><em>list</em></a>) &#8211; Names of fields to unset.</li>
<li><strong>keys</strong> &#8211; Fields or element identifiers to match.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="tau.mvc.controller.Controller.update">
<code class="descname">update</code><span class="sig-paren">(</span><em>data</em>, <em>keys</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tau/mvc/controller.html#Controller.update"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tau.mvc.controller.Controller.update" title="Permalink to this definition">¶</a></dt>
<dd><p>Change recorded data and update associations.</p>
<dl class="docutils">
<dt>The behavior depends on the type of <cite>keys</cite>:</dt>
<dd><ul class="first last simple">
<li>Record.ElementIdentifier: update the record with that element identifier.</li>
<li>dict: update all records with attributes matching <cite>keys</cite>.</li>
<li>list or tuple: apply update to all records matching the elements of <cite>keys</cite>.</li>
<li><code class="docutils literal"><span class="pre">bool(keys)</span> <span class="pre">==</span> <span class="pre">False</span></code>: raise ValueError.</li>
</ul>
</dd>
</dl>
<p>Invokes the <cite>on_update</cite> callback for each record <strong>after</strong> the records are updated.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>data</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#dict" title="(in Python v2.7)"><em>dict</em></a>) &#8211; New data for existing records.</li>
<li><strong>keys</strong> &#8211; Fields or element identifiers to match.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="tau-mvc-model-module">
<h2>tau.mvc.model module<a class="headerlink" href="#tau-mvc-model-module" title="Permalink to this headline">¶</a></h2>
<span class="target" id="module-tau.mvc.model"></span><p>TODO: FIXME: Docs</p>
<dl class="class">
<dt id="tau.mvc.model.Model">
<em class="property">class </em><code class="descclassname">tau.mvc.model.</code><code class="descname">Model</code><span class="sig-paren">(</span><em>record</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tau/mvc/model.html#Model"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tau.mvc.model.Model" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="tau.storage.html#tau.storage.StorageRecord" title="tau.storage.StorageRecord"><code class="xref py py-class docutils literal"><span class="pre">tau.storage.StorageRecord</span></code></a></p>
<p>The &#8220;M&#8221; in <a class="reference external" href="https://en.wikipedia.org/wiki/Model-view-controller">MVC</a>.</p>
<p>TODO: Docs</p>
<dl class="attribute">
<dt id="tau.mvc.model.Model.name">
<code class="descname">name</code><a class="headerlink" href="#tau.mvc.model.Model.name" title="Permalink to this definition">¶</a></dt>
<dd><p><em>str</em></p>
<p>Name of the model.</p>
</dd></dl>

<dl class="attribute">
<dt id="tau.mvc.model.Model.associations">
<code class="descname">associations</code><a class="headerlink" href="#tau.mvc.model.Model.associations" title="Permalink to this definition">¶</a></dt>
<dd><p><em>dict</em></p>
<p>(Controller, str) tuples keyed by attribute name defining attribute associations.</p>
</dd></dl>

<dl class="attribute">
<dt id="tau.mvc.model.Model.references">
<code class="descname">references</code><a class="headerlink" href="#tau.mvc.model.Model.references" title="Permalink to this definition">¶</a></dt>
<dd><p><em>set</em></p>
<p>(Controller, str) tuples listing foreign models referencing this model.</p>
</dd></dl>

<dl class="attribute">
<dt id="tau.mvc.model.Model.attributes">
<code class="descname">attributes</code><a class="headerlink" href="#tau.mvc.model.Model.attributes" title="Permalink to this definition">¶</a></dt>
<dd><p><em>dict</em></p>
<p>Model attributes.</p>
</dd></dl>

<dl class="attribute">
<dt id="tau.mvc.model.Model.key_attribute">
<code class="descname">key_attribute</code><a class="headerlink" href="#tau.mvc.model.Model.key_attribute" title="Permalink to this definition">¶</a></dt>
<dd><p><em>str</em></p>
<p>Name of an attribute that serves as a unique identifier.</p>
</dd></dl>

<dl class="attribute">
<dt>
<code class="descname">associations</code><em class="property"> = NotImplemented</em></dt>
<dd></dd></dl>

<dl class="method">
<dt id="tau.mvc.model.Model.check_compatibility">
<code class="descname">check_compatibility</code><span class="sig-paren">(</span><em>rhs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tau/mvc/model.html#Model.check_compatibility"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tau.mvc.model.Model.check_compatibility" title="Permalink to this definition">¶</a></dt>
<dd><p>Test this record for compatibility with another record.</p>
<p>Operations combining data from multiple records must know that the records are mutually
compatible.  This routine checks the &#8216;compat&#8217; property of each attribute (if set) to enforce
compatibility.  &#8216;compat&#8217; is a dictionary where the keys are values or callables and the
values are tuples of compatibility conditions.  If the attribute with the &#8216;compat&#8217; property
is one of the key values then the conditions are checked.  The general form of &#8216;compat&#8217; is:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span>{
(value|callable): (condition, [condition, ...]),
[(value|callable): (condition, [condition, ...]), ...]
}
</pre></div>
</div>
<p>Use tuples to join multiple conditions.  If only one condition is needed then you do
not need to use a tuple.</p>
<p>&#8216;value&#8217; may either be a literal value (e.g. True or &#8220;oranges&#8221;) or a callable accepting
one argument and returning either True or False.  The attribute&#8217;s value is passed to the
callable to determine if the listed conditions should be checked.  If &#8216;value&#8217; is a literal
then the listed conditions are checked when the attribute&#8217;s value matches &#8216;value&#8217;.</p>
<p>See <a class="reference internal" href="#tau.mvc.model.Model.require" title="tau.mvc.model.Model.require"><code class="xref any py py-meth docutils literal"><span class="pre">require</span></code></a>, <a class="reference internal" href="#tau.mvc.model.Model.encourage" title="tau.mvc.model.Model.encourage"><code class="xref any py py-meth docutils literal"><span class="pre">encourage</span></code></a>, <a class="reference internal" href="#tau.mvc.model.Model.discourage" title="tau.mvc.model.Model.discourage"><code class="xref any py py-meth docutils literal"><span class="pre">discourage</span></code></a>, <a class="reference internal" href="#tau.mvc.model.Model.exclude" title="tau.mvc.model.Model.exclude"><code class="xref any py py-meth docutils literal"><span class="pre">exclude</span></code></a> for common conditions.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>rhs</strong> (<a class="reference internal" href="#tau.mvc.model.Model" title="tau.mvc.model.Model"><em>Model</em></a>) &#8211; Check compatibility with this data record.</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><code class="xref py py-exc docutils literal"><span class="pre">ConfigurationError</span></code> &#8211;
The two records are not compatible.</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<p>Suppose we have this data:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span>Programmer.attributes = {
    &#39;hungry&#39;: {
        &#39;type&#39;: &#39;boolean&#39;,
        &#39;compat&#39;: {True: (CheeseShop.require(&#39;have_cheese&#39;, True),
                          CheeseShop.encourage(&#39;chedder&#39;, &#39;Wisconsin&#39;),
                          ProgramManager.discourage(&#39;holding_long_meeting&#39;, True),
                          Roommate.exclude(&#39;steals_food&#39;, True)}
    }
}

bob = Programmer({&#39;hungry&#39;: True})
world_o_cheese = CheeseShop({&#39;have_cheese&#39;: False, &#39;chedder&#39;: &#39;Wisconsin&#39;})
cheese_wizzard = CheeseShop({&#39;have_cheese&#39;: True, &#39;chedder&#39;: &#39;California&#39;})
louis = ProgramManager({&#39;holding_long_meeting&#39;: True})
keith = Roommate({&#39;steals_food&#39;: True})
</pre></div>
</div>
<p>These expressions raise <a class="reference internal" href="tau.html#tau.error.ConfigurationError" title="tau.error.ConfigurationError"><code class="xref any py py-exc docutils literal"><span class="pre">ConfigurationError</span></code></a>:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">bob</span><span class="o">.</span><span class="n">check_compatibility</span><span class="p">(</span><span class="n">world_o_cheese</span><span class="p">)</span>   <span class="c1"># Because have_cheese == False</span>
<span class="n">bob</span><span class="o">.</span><span class="n">check_compatibility</span><span class="p">(</span><span class="n">keith</span><span class="p">)</span>            <span class="c1"># Because steals_food == True</span>
</pre></div>
</div>
<p>These expressions generate warning messages:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">bob</span><span class="o">.</span><span class="n">check_compatibility</span><span class="p">(</span><span class="n">cheese_wizzard</span><span class="p">)</span>   <span class="c1"># Because chedder != Wisconsin</span>
<span class="n">bob</span><span class="o">.</span><span class="n">check_compatibility</span><span class="p">(</span><span class="n">louis</span><span class="p">)</span>            <span class="c1"># Because holding_long_meeting == True</span>
</pre></div>
</div>
<p>If <code class="docutils literal"><span class="pre">bob['hungry']</span> <span class="pre">==</span> <span class="pre">False</span></code> or if the &#8216;hungry&#8217; attribute were not set then all
the above expressions do nothing.</p>
</dd></dl>

<dl class="classmethod">
<dt id="tau.mvc.model.Model.construct_condition">
<em class="property">classmethod </em><code class="descname">construct_condition</code><span class="sig-paren">(</span><em>args</em>, <em>attr_defined=None</em>, <em>attr_undefined=None</em>, <em>attr_eq=None</em>, <em>attr_ne=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tau/mvc/model.html#Model.construct_condition"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tau.mvc.model.Model.construct_condition" title="Permalink to this definition">¶</a></dt>
<dd><p>Constructs a compatibility condition, see <a class="reference internal" href="#tau.mvc.model.Model.check_compatibility" title="tau.mvc.model.Model.check_compatibility"><code class="xref any py py-meth docutils literal"><span class="pre">check_compatibility</span></code></a>.</p>
<dl class="docutils">
<dt>The returned condition is a callable that accepts five or six arguments:</dt>
<dd><ul class="first last">
<li><p class="first">lhs (Model): The left-hand side of the <cite>check_compatibility</cite> operation.</p>
</li>
<li><p class="first">lhs_attr (str): Name of the attribute that defines the &#8216;compat&#8217; property.</p>
</li>
<li><p class="first">lhs_value: The value of the attribute that defines the &#8216;compat&#8217; property.</p>
</li>
<li><p class="first">rhs (Model): Controller of the data record we are checking against.</p>
</li>
<li><p class="first">rhs_attr (str): The attribute we are checking for compatibility.</p>
</li>
<li><dl class="first docutils">
<dt>checked_value (str): The required or desired value of the attribute we are checking for compatibility.</dt>
<dd><p class="first last">Only used by <cite>attr_eq</cite> and <cite>attr_ne</cite>.</p>
</dd>
</dl>
</li>
</ul>
</dd>
</dl>
<p>The <cite>condition</cite> callable raises a <a class="reference internal" href="tau.html#tau.error.ConfigurationError" title="tau.error.ConfigurationError"><code class="xref any py py-exc docutils literal"><span class="pre">ConfigurationError</span></code></a> if the compared attributes
are fatally incompatibile, i.e. the user&#8217;s operation is guaranteed to fail with the chosen
records. It may emit log messages to indicate that the records are not perfectly compatible
but that the user&#8217;s operation is still likely to succeed with the chosen records.</p>
<p>See <a class="reference internal" href="#tau.mvc.model.Model.require" title="tau.mvc.model.Model.require"><code class="xref any py py-meth docutils literal"><span class="pre">require</span></code></a>, <a class="reference internal" href="#tau.mvc.model.Model.encourage" title="tau.mvc.model.Model.encourage"><code class="xref any py py-meth docutils literal"><span class="pre">encourage</span></code></a>, <a class="reference internal" href="#tau.mvc.model.Model.discourage" title="tau.mvc.model.Model.discourage"><code class="xref any py py-meth docutils literal"><span class="pre">discourage</span></code></a>, <a class="reference internal" href="#tau.mvc.model.Model.exclude" title="tau.mvc.model.Model.exclude"><code class="xref any py py-meth docutils literal"><span class="pre">exclude</span></code></a> for common conditions.</p>
<p>args[0] specifies a model attribute to check.  If args[1] is given, it is a value to compare
the specified attribute against or a callback function as described below. To enable complex
conditions, args[1] may be a callback function.  In this case, args[1] must check attribute
existance and value correctness and throw the appropriate exception and/or emit log messages.
See <code class="xref py py-func docutils literal"><span class="pre">tau.model.measurement.intel_only()</span></code> for an example of such a callback function.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>args</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#tuple" title="(in Python v2.7)"><em>tuple</em></a>) &#8211; Attribute name in args[0] and, optionally, attribute value in args[1].</li>
<li><strong>attr_defined</strong> &#8211; Callback function to be invoked when the attribute is defined.</li>
<li><strong>attr_undefined</strong> &#8211; Callback function to be invoked when the attribute is undefined.</li>
<li><strong>attr_eq</strong> &#8211; Callback function to be invoked when the attribute is equal to args[1].</li>
<li><strong>attr_ne</strong> &#8211; Callback function to be invoked when the attribute is not equal to args[1].</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">Callable condition object for use with <a class="reference internal" href="#tau.mvc.model.Model.check_compatibility" title="tau.mvc.model.Model.check_compatibility"><code class="xref any py py-meth docutils literal"><span class="pre">check_compatibility</span></code></a>.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="classmethod">
<dt id="tau.mvc.model.Model.controller">
<em class="property">classmethod </em><code class="descname">controller</code><span class="sig-paren">(</span><em>storage</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tau/mvc/model.html#Model.controller"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tau.mvc.model.Model.controller" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="classmethod">
<dt id="tau.mvc.model.Model.discourage">
<em class="property">classmethod </em><code class="descname">discourage</code><span class="sig-paren">(</span><em>*args</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tau/mvc/model.html#Model.discourage"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tau.mvc.model.Model.discourage" title="Permalink to this definition">¶</a></dt>
<dd><p>Constructs a compatibility condition to make recommendations.</p>
<p>The condition will emit warnings messages if the specified attribute is
defined or equal to the specified value (if given).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>*args</strong> &#8211; Corresponds to <cite>args</cite> in <a class="reference internal" href="#tau.mvc.model.Model.construct_condition" title="tau.mvc.model.Model.construct_condition"><code class="xref any py py-meth docutils literal"><span class="pre">construct_condition</span></code></a>.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">Callable condition object for use with <a class="reference internal" href="#tau.mvc.model.Model.check_compatibility" title="tau.mvc.model.Model.check_compatibility"><code class="xref any py py-meth docutils literal"><span class="pre">check_compatibility</span></code></a></td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<p>&#8216;have_cheese&#8217; should not be True:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">CheeseShop</span><span class="o">.</span><span class="n">discourage</span><span class="p">(</span><span class="s1">&#39;have_cheese&#39;</span><span class="p">,</span> <span class="bp">True</span><span class="p">)</span>
</pre></div>
</div>
<p>&#8216;have_cheese&#8217; should not be set to any value:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">CheeseShop</span><span class="o">.</span><span class="n">discourage</span><span class="p">(</span><span class="s1">&#39;have_cheese&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>The value of &#8216;have_cheese&#8217; will be checked for correctness by &#8216;cheese_callback&#8217;:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">CheeseShop</span><span class="o">.</span><span class="n">discourage</span><span class="p">(</span><span class="s1">&#39;have_cheese&#39;</span><span class="p">,</span> <span class="n">cheese_callback</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="classmethod">
<dt id="tau.mvc.model.Model.encourage">
<em class="property">classmethod </em><code class="descname">encourage</code><span class="sig-paren">(</span><em>*args</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tau/mvc/model.html#Model.encourage"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tau.mvc.model.Model.encourage" title="Permalink to this definition">¶</a></dt>
<dd><p>Constructs a compatibility condition to make recommendations.</p>
<p>The condition will emit warnings messages if the specified attribute is
undefined or not equal to the specified value (if given).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>*args</strong> &#8211; Corresponds to <cite>args</cite> in <a class="reference internal" href="#tau.mvc.model.Model.construct_condition" title="tau.mvc.model.Model.construct_condition"><code class="xref any py py-meth docutils literal"><span class="pre">construct_condition</span></code></a>.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">Callable condition object for use with <a class="reference internal" href="#tau.mvc.model.Model.check_compatibility" title="tau.mvc.model.Model.check_compatibility"><code class="xref any py py-meth docutils literal"><span class="pre">check_compatibility</span></code></a></td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<p>&#8216;have_cheese&#8217; should be True:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">CheeseShop</span><span class="o">.</span><span class="n">encourage</span><span class="p">(</span><span class="s1">&#39;have_cheese&#39;</span><span class="p">,</span> <span class="bp">True</span><span class="p">)</span>
</pre></div>
</div>
<p>&#8216;have_cheese&#8217; should be set to any value:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">CheeseShop</span><span class="o">.</span><span class="n">encourage</span><span class="p">(</span><span class="s1">&#39;have_cheese&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>The value of &#8216;have_cheese&#8217; will be checked for correctness by &#8216;cheese_callback&#8217;:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">CheeseShop</span><span class="o">.</span><span class="n">encourage</span><span class="p">(</span><span class="s1">&#39;have_cheese&#39;</span><span class="p">,</span> <span class="n">cheese_callback</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="classmethod">
<dt id="tau.mvc.model.Model.exclude">
<em class="property">classmethod </em><code class="descname">exclude</code><span class="sig-paren">(</span><em>*args</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tau/mvc/model.html#Model.exclude"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tau.mvc.model.Model.exclude" title="Permalink to this definition">¶</a></dt>
<dd><p>Constructs a compatibility condition to enforce required conditions.</p>
<p>The condition will raise a <a class="reference internal" href="tau.html#tau.error.ConfigurationError" title="tau.error.ConfigurationError"><code class="xref any py py-exc docutils literal"><span class="pre">ConfigurationError</span></code></a> if the specified attribute is
defined or equal to the specified value (if given).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>*args</strong> &#8211; Corresponds to <cite>args</cite> in <a class="reference internal" href="#tau.mvc.model.Model.construct_condition" title="tau.mvc.model.Model.construct_condition"><code class="xref any py py-meth docutils literal"><span class="pre">construct_condition</span></code></a>.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">Callable condition object for use with <a class="reference internal" href="#tau.mvc.model.Model.check_compatibility" title="tau.mvc.model.Model.check_compatibility"><code class="xref any py py-meth docutils literal"><span class="pre">check_compatibility</span></code></a></td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<p>&#8216;yellow_cheese&#8217; must not be &#8216;American&#8217;:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">CheeseShop</span><span class="o">.</span><span class="n">exclude</span><span class="p">(</span><span class="s1">&#39;yellow_cheese&#39;</span><span class="p">,</span> <span class="s1">&#39;American&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>&#8216;blue_cheese&#8217; must not be set to any value:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">CheeseShop</span><span class="o">.</span><span class="n">exclude</span><span class="p">(</span><span class="s1">&#39;blue_cheese&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>The value of &#8216;have_cheese&#8217; will be checked for correctness by &#8216;cheese_callback&#8217;:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">CheeseShop</span><span class="o">.</span><span class="n">exclude</span><span class="p">(</span><span class="s1">&#39;have_cheese&#39;</span><span class="p">,</span> <span class="n">cheese_callback</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="attribute">
<dt>
<code class="descname">name</code><em class="property"> = NotImplemented</em></dt>
<dd></dd></dl>

<dl class="method">
<dt id="tau.mvc.model.Model.on_create">
<code class="descname">on_create</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/tau/mvc/model.html#Model.on_create"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tau.mvc.model.Model.on_create" title="Permalink to this definition">¶</a></dt>
<dd><p>Callback to be invoked when a new data record is created.</p>
</dd></dl>

<dl class="method">
<dt id="tau.mvc.model.Model.on_delete">
<code class="descname">on_delete</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/tau/mvc/model.html#Model.on_delete"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tau.mvc.model.Model.on_delete" title="Permalink to this definition">¶</a></dt>
<dd><p>Callback to be invoked when a data record is deleted.</p>
</dd></dl>

<dl class="method">
<dt id="tau.mvc.model.Model.on_update">
<code class="descname">on_update</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/tau/mvc/model.html#Model.on_update"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tau.mvc.model.Model.on_update" title="Permalink to this definition">¶</a></dt>
<dd><p>Callback to be invoked when a data record is updated.</p>
</dd></dl>

<dl class="method">
<dt id="tau.mvc.model.Model.populate">
<code class="descname">populate</code><span class="sig-paren">(</span><em>attribute=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tau/mvc/model.html#Model.populate"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tau.mvc.model.Model.populate" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt>
<code class="descname">references</code><em class="property"> = NotImplemented</em></dt>
<dd></dd></dl>

<dl class="classmethod">
<dt id="tau.mvc.model.Model.require">
<em class="property">classmethod </em><code class="descname">require</code><span class="sig-paren">(</span><em>*args</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tau/mvc/model.html#Model.require"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tau.mvc.model.Model.require" title="Permalink to this definition">¶</a></dt>
<dd><p>Constructs a compatibility condition to enforce required conditions.</p>
<p>The condition will raise a <a class="reference internal" href="tau.html#tau.error.ConfigurationError" title="tau.error.ConfigurationError"><code class="xref any py py-exc docutils literal"><span class="pre">ConfigurationError</span></code></a> if the specified attribute is
undefined or not equal to the specified value (if given).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>*args</strong> &#8211; Corresponds to <cite>args</cite> in <a class="reference internal" href="#tau.mvc.model.Model.construct_condition" title="tau.mvc.model.Model.construct_condition"><code class="xref any py py-meth docutils literal"><span class="pre">construct_condition</span></code></a>.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">Callable condition object for use with <a class="reference internal" href="#tau.mvc.model.Model.check_compatibility" title="tau.mvc.model.Model.check_compatibility"><code class="xref any py py-meth docutils literal"><span class="pre">check_compatibility</span></code></a></td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<p>&#8216;have_cheese&#8217; must be True:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">CheeseShop</span><span class="o">.</span><span class="n">require</span><span class="p">(</span><span class="s1">&#39;have_cheese&#39;</span><span class="p">,</span> <span class="bp">True</span><span class="p">)</span>
</pre></div>
</div>
<p>&#8216;have_cheese&#8217; must be set to any value:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">CheeseShop</span><span class="o">.</span><span class="n">require</span><span class="p">(</span><span class="s1">&#39;have_cheese&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>The value of &#8216;have_cheese&#8217; will be checked for correctness by &#8216;cheese_callback&#8217;:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">CheeseShop</span><span class="o">.</span><span class="n">require</span><span class="p">(</span><span class="s1">&#39;have_cheese&#39;</span><span class="p">,</span> <span class="n">cheese_callback</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="classmethod">
<dt id="tau.mvc.model.Model.validate">
<em class="property">classmethod </em><code class="descname">validate</code><span class="sig-paren">(</span><em>data</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tau/mvc/model.html#Model.validate"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tau.mvc.model.Model.validate" title="Permalink to this definition">¶</a></dt>
<dd><p>Validates data against the model.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>data</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#dict" title="(in Python v2.7)"><em>dict</em></a>) &#8211; Data to validate, may be None.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">Validated data or None if <cite>data</cite> is None.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/library/stdtypes.html#dict" title="(in Python v2.7)">dict</a></td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><code class="xref py py-exc docutils literal"><span class="pre">ModelError</span></code> &#8211;
The given data doesn&#8217;t fit the model.</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="tau.mvc.model.ModelMeta">
<em class="property">class </em><code class="descclassname">tau.mvc.model.</code><code class="descname">ModelMeta</code><a class="reference internal" href="_modules/tau/mvc/model.html#ModelMeta"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tau.mvc.model.ModelMeta" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/library/functions.html#type" title="(in Python v2.7)"><code class="xref py py-class docutils literal"><span class="pre">type</span></code></a></p>
<p>Metaclass TODO: FIXME: Docs</p>
<dl class="attribute">
<dt id="tau.mvc.model.ModelMeta.attributes">
<code class="descname">attributes</code><a class="headerlink" href="#tau.mvc.model.ModelMeta.attributes" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="tau.mvc.model.ModelMeta.key_attribute">
<code class="descname">key_attribute</code><a class="headerlink" href="#tau.mvc.model.ModelMeta.key_attribute" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
</div>


      </div>
      <div class="bottomnav" role="navigation" aria-label="bottom navigation">
      
        <p>
        «&#160;&#160;<a href="tau.model.tests.html">tau.model.tests package</a>
        &#160;&#160;::&#160;&#160;
        <a class="uplink" href="index.html">Contents</a>
        &#160;&#160;::&#160;&#160;
        <a href="tau.mvc.tests.html">tau.mvc.tests package</a>&#160;&#160;»
        </p>

      </div>

    <div class="footer" role="contentinfo">
        &copy; Copyright 2015 ParaTools, Inc..
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.3.6.
    </div>
  </body>
</html>